{% extends 'base.html' %}

{% block content %}

    <div class="page-header">
        <h1>生徒一覧</h1>
    </div>
    <div class="container-fluid panel panel-container">
        <!-- メッセージフレームワーク -->
        {% if messages %}
            <ul class="list-unstyled">
                {% for message in messages %}
                    <li{% if message.tags %}
                        class="bg-{% if message.tags == 'error' %}danger{% else %}info{% endif %} alert"{% endif %}>
                        {{ message }}
                        <button type="button" class="close" aria-label="Close" data-dismiss="alert">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}

        <!-- タブボタン部分 -->
        <div class="container-fluid panel panel-container" style="-webkit-box-shadow: unset; padding: 0">
            <!-- 更新・削除処理の結果表示用 -->
            <span class="text-info" style="margin: 10px 0 0 15px; font-weight: bold"></span><br/>
            <!-- タブボタン部分 -->
            <ul class="nav nav-pills nav-justified">
                <li class="nav-item">
                    <a href="#tab1" class="nav-link tab1" data-toggle="tab">中３</a>
                </li>
                <li class="nav-item">
                    <a href="#tab2" class="nav-link tab2" data-toggle="tab">中２</a>
                </li>
                <li class="nav-item">
                    <a href="#tab3" class="nav-link tab3" data-toggle="tab">中１</a>
                </li>
                <li class="nav-item">
                    <a href="#tab4" class="nav-link tab4" data-toggle="tab">小６</a>
                </li>
                <li class="nav-item">
                    <a href="#tab5" class="nav-link tab5" data-toggle="tab">小５</a>
                </li>
                <li class="nav-item">
                    <a href="#tab6" class="nav-link tab6" data-toggle="tab">小４</a>
                </li>
                <li class="nav-item">
                    <a href="#tab7" class="nav-link tab7" data-toggle="tab">小３</a>
                </li>
            </ul>
            <!--タブのコンテンツ部分-->
            <div class="tab-content">
                <div id="tab1" class="tab-pane fade">
                    <!--中３の内容-->
                    <table class="table table-bordered table-condensed table-hover table-striped">
                        <tr>
                            <th class="info col-sm-2">生徒ID</th>
                            <th class="info col-sm-2">名前</th>
                            <th class="info col-sm-2">校舎</th>
                            <th class="info col-sm-2">クラス</th>
                            <th class="info col-sm-2">学校</th>
                            <th class="info col-sm-2"></th>
                        </tr>
                        {% for student in object_list %}
                            {% if student.grade == '中３' %}
                                {% if student.id > 0 %}
                                    <tr>
                                        <td>{{ student.id }}</td>
                                        <td>{{ student.last_name }} {{ student.first_name }}</td>
                                        <td>{{ student.school }}</td>
                                        <td>{{ student.home_room }}</td>
                                        <td>{{ student.local_school }}</td>
                                        <td>
                                            <!-- ユーザー詳細画面へのリンク -->
                                            <a class="btn btn-primary"
                                               href="{% url 'student:detail' student.pk %}">詳細</a>
                                        </td>
                                    </tr>
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </table>
                    <h5><strong>中３：{{ count_list.0 }} 人</strong></h5><br/>
                </div>
                <div id="tab2" class="tab-pane fade">
                    <!--中２の内容-->
                    <table class="table table-bordered table-condensed table-hover table-striped">
                        <tr>
                            <th class="info col-sm-2">生徒ID</th>
                            <th class="info col-sm-2">名前</th>
                            <th class="info col-sm-2">校舎</th>
                            <th class="info col-sm-2">クラス</th>
                            <th class="info col-sm-2">学校</th>
                            <th class="info col-sm-2"></th>
                        </tr>
                        {% for student in object_list %}
                            {% if student.grade == '中２' %}
                                {% if student.id > 0 %}
                                    <tr>
                                        <td>{{ student.id }}</td>
                                        <td>{{ student.last_name }} {{ student.first_name }}</td>
                                        <td>{{ student.school }}</td>
                                        <td>{{ student.home_room }}</td>
                                        <td>{{ student.local_school }}</td>
                                        <td>
                                            <!-- ユーザー詳細画面へのリンク -->
                                            <a class="btn btn-primary"
                                               href="{% url 'student:detail' student.pk %}">詳細</a>
                                        </td>
                                    </tr>
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </table>
                    <h5><strong>中２：{{ count_list.1 }} 人</strong></h5><br/>
                </div>
                <div id="tab3" class="tab-pane fade">
                    <!--中１の内容-->
                    <table class="table table-bordered table-condensed table-hover table-striped">
                        <tr>
                            <th class="info col-sm-2">生徒ID</th>
                            <th class="info col-sm-2">名前</th>
                            <th class="info col-sm-2">校舎</th>
                            <th class="info col-sm-2">クラス</th>
                            <th class="info col-sm-2">学校</th>
                            <th class="info col-sm-2"></th>
                        </tr>
                        {% for student in object_list %}
                            {% if student.grade == '中１' %}
                                {% if student.id > 0 %}
                                    <tr>
                                        <td>{{ student.id }}</td>
                                        <td>{{ student.last_name }} {{ student.first_name }}</td>
                                        <td>{{ student.school }}</td>
                                        <td>{{ student.home_room }}</td>
                                        <td>{{ student.local_school }}</td>
                                        <td>
                                            <!-- ユーザー詳細画面へのリンク -->
                                            <a class="btn btn-primary"
                                               href="{% url 'student:detail' student.pk %}">詳細</a>
                                        </td>
                                    </tr>
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </table>
                    <h5><strong>中１：{{ count_list.2 }} 人</strong></h5><br/>
                </div>
                <div id="tab4" class="tab-pane fade">
                    <!--小６の内容-->
                    <table class="table table-bordered table-condensed table-hover table-striped">
                        <tr>
                            <th class="info col-sm-2">生徒ID</th>
                            <th class="info col-sm-2">名前</th>
                            <th class="info col-sm-2">校舎</th>
                            <th class="info col-sm-2">クラス</th>
                            <th class="info col-sm-2">学校</th>
                            <th class="info col-sm-2"></th>
                        </tr>
                        {% for student in object_list %}
                            {% if student.grade == '小６' %}
                                {% if student.id > 0 %}
                                    <tr>
                                        <td>{{ student.id }}</td>
                                        <td>{{ student.last_name }} {{ student.first_name }}</td>
                                        <td>{{ student.school }}</td>
                                        <td>{{ student.home_room }}</td>
                                        <td>{{ student.local_school }}</td>
                                        <td>
                                            <!-- ユーザー詳細画面へのリンク -->
                                            <a class="btn btn-primary"
                                               href="{% url 'student:detail' student.pk %}">詳細</a>
                                        </td>
                                    </tr>
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </table>
                    <h5><strong>小６：{{ count_list.3 }} 人</strong></h5><br/>
                </div>
                <div id="tab5" class="tab-pane fade">
                    <!--小５の内容-->
                    <table class="table table-bordered table-condensed table-hover table-striped">
                        <tr>
                            <th class="info col-sm-2">生徒ID</th>
                            <th class="info col-sm-2">名前</th>
                            <th class="info col-sm-2">校舎</th>
                            <th class="info col-sm-2">クラス</th>
                            <th class="info col-sm-2">学校</th>
                            <th class="info col-sm-2"></th>
                        </tr>
                        {% for student in object_list %}
                            {% if student.grade == '小５' %}
                                {% if student.id > 0 %}
                                    <tr>
                                        <td>{{ student.id }}</td>
                                        <td>{{ student.last_name }} {{ student.first_name }}</td>
                                        <td>{{ student.school }}</td>
                                        <td>{{ student.home_room }}</td>
                                        <td>{{ student.local_school }}</td>
                                        <td>
                                            <!-- ユーザー詳細画面へのリンク -->
                                            <a class="btn btn-primary"
                                               href="{% url 'student:detail' student.pk %}">詳細</a>
                                        </td>
                                    </tr>
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </table>
                    <h5><strong>小５：{{ count_list.4 }} 人</strong></h5><br/>
                </div>
                <div id="tab6" class="tab-pane fade">
                    <!--小４の内容-->
                    <table class="table table-bordered table-condensed table-hover table-striped">
                        <tr>
                            <th class="info col-sm-2">生徒ID</th>
                            <th class="info col-sm-2">名前</th>
                            <th class="info col-sm-2">校舎</th>
                            <th class="info col-sm-2">クラス</th>
                            <th class="info col-sm-2">学校</th>
                            <th class="info col-sm-2"></th>
                        </tr>
                        {% for student in object_list %}
                            {% if student.grade == '小４' %}
                                {% if student.id > 0 %}
                                    <tr>
                                        <td>{{ student.id }}</td>
                                        <td>{{ student.last_name }} {{ student.first_name }}</td>
                                        <td>{{ student.school }}</td>
                                        <td>{{ student.home_room }}</td>
                                        <td>{{ student.local_school }}</td>
                                        <td>
                                            <!-- ユーザー詳細画面へのリンク -->
                                            <a class="btn btn-primary"
                                               href="{% url 'student:detail' student.pk %}">詳細</a>
                                        </td>
                                    </tr>
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </table>
                    <h5><strong>小４：{{ count_list.5 }} 人</strong></h5><br/>
                </div>
                <div id="tab7" class="tab-pane fade">
                    <!--小３の内容-->
                    <table class="table table-bordered table-condensed table-hover table-striped">
                        <tr>
                            <th class="info col-sm-2">生徒ID</th>
                            <th class="info col-sm-2">名前</th>
                            <th class="info col-sm-2">校舎</th>
                            <th class="info col-sm-2">クラス</th>
                            <th class="info col-sm-2">学校</th>
                            <th class="info col-sm-2"></th>
                        </tr>
                        {% for student in object_list %}
                            {% if student.grade == '小３' %}
                                {% if student.id > 0 %}
                                    <tr>
                                        <td>{{ student.id }}</td>
                                        <td>{{ student.last_name }} {{ student.first_name }}</td>
                                        <td>{{ student.school }}</td>
                                        <td>{{ student.home_room }}</td>
                                        <td>{{ student.local_school }}</td>
                                        <td>
                                            <!-- ユーザー詳細画面へのリンク -->
                                            <a class="btn btn-primary"
                                               href="{% url 'student:detail' student.pk %}">詳細</a>
                                        </td>
                                    </tr>
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </table>
                    <h5><strong>小３：{{ count_list.6 }} 人</strong></h5><br/>
                </div>
            </div>
            <div class="col-sm-12" id="count_all">
                <!-- ユーザー一覧の件数 -->
                <div class="list_end">全生徒の合計：{{ count_all }} 人</div>
                <br/>
            </div>
        </div>
    </div>

{% endblock %}